<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SOQCS Benchmark &mdash; SOQCS 1.5 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/extended.css" type="text/css" />
      <link rel="stylesheet" href="_static/nbsphinx-code-cells.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API" href="api.html" />
    <link rel="prev" title="SOQCS Example 9: Dielectric film with losses." href="live9.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> SOQCS
            <img src="_static/Logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Compilation and installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="details_pub.html">Software details</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="program.html">Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="live1.html"> Example 1: Elementary example program</a></li>
<li class="toctree-l2"><a class="reference internal" href="live2.html"> Example 2: CNOT circuit</a></li>
<li class="toctree-l2"><a class="reference internal" href="live3.html"> Example 3: CZ</a></li>
<li class="toctree-l2"><a class="reference internal" href="live4.html"> Example 4: HOM Visibility simulation of a 2x2 MMI beamsplitter.</a></li>
<li class="toctree-l2"><a class="reference internal" href="live5.html"> Example 5: Partial distinguishability</a></li>
<li class="toctree-l2"><a class="reference internal" href="live6.html"> Example 6: Simulation of a delay in the middle of a circuit</a></li>
<li class="toctree-l2"><a class="reference internal" href="live7.html"> Example 7: Boson sampling example</a></li>
<li class="toctree-l2"><a class="reference internal" href="live8.html"> Example 8: Entanglement swapping protocol using a physical quantum dot as a non-ideal Bell emitter</a></li>
<li class="toctree-l2"><a class="reference internal" href="live9.html"> Example 9: Dielectric film with losses</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"> Benchmark</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="biblio.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="licence.html">Licence and copyright</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SOQCS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="program.html">Examples</a> &raquo;</li>
      <li>SOQCS Benchmark</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/benchmark.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="SOQCS-Benchmark">
<h1>SOQCS Benchmark<a class="headerlink" href="#SOQCS-Benchmark" title="Permalink to this headline"></a></h1>
<p style="text-align: justify;"><p>In this example various random circuits of N photons and 2N channels are generated. The N photons are assigned one by one to be initialized in the first N channels. The amplitude to find out those photons in the same configuration at the output is calculated. The calculation of this amplitude implies the calculation of a single permanent. The time required to calculate this permanent with different methods is registered and plotted as function of the number of photons and channels. The permanent
is calculated using the the Balasubramanian–Bax–Franklin–Glynn formula “Glynn”, the Ryser formula “Ryser” or the Ryser formula making use of parallelization in the way suggested in ref. [1] “Ryser 10”. In the last case 10 processor cores are used.</p>
</p><p>[1] P.H. Lundow, K. Markström, Efficient computation of permanents, with applications to Boson sampling and random matrices, Journal of Computational Physics, Volume 455, 2022,110990.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">soqcs</span>  <span class="c1"># SOQCS Library</span>
<span class="kn">import</span> <span class="nn">time</span>   <span class="c1"># Time measurement library</span>
</pre></div>
</div>
</div>
<p>Set up simulation constant and create the simulator.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Configuration constants</span>
<span class="n">minnph</span>  <span class="o">=</span> <span class="mi">10</span>       <span class="c1"># Minimum number of photons</span>
<span class="n">maxnph</span>  <span class="o">=</span> <span class="mi">20</span>       <span class="c1"># Maximum number of photons</span>
<span class="n">chf</span>     <span class="o">=</span> <span class="mi">2</span>        <span class="c1"># Channels by photon</span>

<span class="c1"># Create the simulator</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">soqcs</span><span class="o">.</span><span class="n">simulator</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p style="text-align: justify;"><p>The next piece of code performs the benchmark for the different methods mentioned above. Random circuits are generated to calculate these benchmarks from minph photons to maxnph photon doubling the number of channels with respect the number of photons.</p>
</p><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  nph   nch    Glynn    Ryser  Ryser10&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">nph</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="n">minnph</span><span class="p">,</span><span class="n">maxnph</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">nch</span><span class="o">=</span><span class="n">chf</span><span class="o">*</span><span class="n">nph</span><span class="p">;</span>

    <span class="c1"># Build circuit</span>
    <span class="n">example</span> <span class="o">=</span> <span class="n">soqcs</span><span class="o">.</span><span class="n">qodev</span><span class="p">(</span><span class="n">nph</span><span class="p">,</span><span class="n">nch</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">nph</span><span class="p">):</span>
        <span class="n">example</span><span class="o">.</span><span class="n">add_photons</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
        <span class="n">example</span><span class="o">.</span><span class="n">random_circuit</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">nch</span><span class="p">):</span>
        <span class="n">example</span><span class="o">.</span><span class="n">detector</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>

    <span class="c1"># Set-up inital state</span>
    <span class="n">inputst</span><span class="o">=</span><span class="n">example</span><span class="o">.</span><span class="n">input</span><span class="p">()</span>
    <span class="c1"># List of output amplitudes to be calcualted</span>
    <span class="n">olist</span><span class="o">=</span><span class="n">example</span><span class="o">.</span><span class="n">input</span><span class="p">()</span>
    <span class="c1"># Set-up circuit</span>
    <span class="n">circuit</span><span class="o">=</span><span class="n">example</span><span class="o">.</span><span class="n">circuit</span><span class="p">()</span>

    <span class="c1"># Simulate Glynn</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">output</span><span class="o">=</span><span class="n">sim</span><span class="o">.</span><span class="n">run_st</span><span class="p">(</span><span class="n">inputst</span><span class="p">,</span><span class="n">circuit</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">st_list</span><span class="o">=</span><span class="n">olist</span><span class="p">);</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">tglynn</span><span class="o">=</span><span class="p">(</span><span class="n">end</span><span class="o">-</span><span class="n">start</span><span class="p">)</span><span class="o">*</span><span class="mi">1000</span>

    <span class="c1"># Simulate Ryser 1</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">output</span><span class="o">=</span><span class="n">sim</span><span class="o">.</span><span class="n">run_st</span><span class="p">(</span><span class="n">inputst</span><span class="p">,</span><span class="n">circuit</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="n">nthreads</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">st_list</span><span class="o">=</span><span class="n">olist</span><span class="p">);</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">tryser</span><span class="o">=</span><span class="p">(</span><span class="n">end</span><span class="o">-</span><span class="n">start</span><span class="p">)</span><span class="o">*</span><span class="mi">1000</span>

    <span class="c1"># Simulate Ryser 10</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">output</span><span class="o">=</span><span class="n">sim</span><span class="o">.</span><span class="n">run_st</span><span class="p">(</span><span class="n">inputst</span><span class="p">,</span><span class="n">circuit</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="n">nthreads</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">st_list</span><span class="o">=</span><span class="n">olist</span><span class="p">);</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">tryser10</span><span class="o">=</span><span class="p">(</span><span class="n">end</span><span class="o">-</span><span class="n">start</span><span class="p">)</span><span class="o">*</span><span class="mi">1000</span>

    <span class="c1"># Print results</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{:5d}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nph</span><span class="p">),</span><span class="s2">&quot;</span><span class="si">{:5d}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nch</span><span class="p">),</span><span class="s2">&quot;</span><span class="si">{:8.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tglynn</span><span class="p">),</span><span class="s2">&quot;</span><span class="si">{:8.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tryser</span><span class="p">),</span><span class="s2">&quot;</span><span class="si">{:8.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tryser10</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
  nph   nch    Glynn    Ryser  Ryser10
   10    20     0.07     1.14     0.04
   11    22     0.17     0.11     0.03
   12    24     0.35     0.21     0.04
   13    26     0.69     0.44     0.07
   14    28     1.38     0.88     0.13
   15    30     2.90     1.87     0.25
   16    32     5.81     3.53     0.49
   17    34    11.45     6.82     0.90
   18    36    22.04    14.43     1.94
   19    38    46.05    36.39     7.57
   20    40   112.97   104.44    13.10
</pre></div></div>
</div>
<p><strong>THIS CODE IS PART OF SOQCS</strong></p>
<p><strong>Copyright:</strong> Copyright © 2023 National University of Ireland Maynooth, Maynooth University. All rights reserved. The contents and use of this document and the related code are subject to the licence terms detailed in LICENCE.txt</p>
</section>


           </div>
          </div>
          ﻿<footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="live9.html" class="btn btn-neutral float-left" title="SOQCS Example 9: Dielectric film with losses." accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="api.html" class="btn btn-neutral float-right" title="API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
<jinja2.runtime.BlockReference object at 0x7fb897a18be0>
<html lang="en">
<style type="text/css">

<style>
.footer {
    background:white;   
}
.ft-list {
    text-align:left;
    list-style:none;
    overflow:hidden;/*contain floats*/
    margin:0 auto;
    padding:0;
    height:150px;
    background:white;
    border-top-width: 1px;
    border-top-style: solid;
    border-top-color: darkblue;
    
}
.ft-list li {
    float:right;
    margin:0 15px 0 0;
    background:white;
}

.ft-list li.last {margin:0;}

</style>
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
<div class="ft-list"
  <ul>
     <li>
            <p style="color:black"> 
            <b>Maynooth Univeristy</b><br>
            <img src="../../assets/Maynooth2.png"/>
            </p>
    </li>

    <li>
            <p style="color:black">
            <b>Copyright:</b><br>
            Copyright © 2023 National University of Ireland Maynooth, 
            <br> Maynooth University. All rights reserved.<br>
            The contents and use of this document and the related code <br>
            are subject to the licence terms detailed in <a  href="../../assets/LICENCE.TXT"> LICENCE.txt </a> 
            </p>
    </li>

    <li>
            <p style="color:black">
            <br>
            Jiri Vala <br>
            <br>
            <b>e-mail:</b><br>
            <a  href="mailto:jiri.vala@mu.ie">jiri.vala@mu.ie</a>
            </p>
    </li>
    
    
    <li>
            <p style="color:black">
            <b>Authorship:</b><br>
            Javier Osca Cotarelo<br>
            <br>
            <b>e-mail:</b><br>
            <a  href="mailto:soqcslib@gmail.com">soqcslib@gmail.com</a>
            </p>
    </li>
  </ul>
</div>
</div>
</html>
<!-- your custom footer here-->

  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>